# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---

$id: http://devicetree.org/schemas/display/msm/gpu.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Imageon 200 GPU

maintainers:
  - Rob Clark <robdclark@gmail.com>

properties:
  compatible:
    oneOf:
      - description: |
          The driver is parsing the compat string for Imageon to
          figure out the gpu-id and patch level.
        items:
          - pattern: '^amd,imageon-200\.[0-1]$'
          - const: amd,imageon

  clocks:
    items: 
      - description: GPU Core clock
      - description: GPU Memory Interface clock

  clock-names:
    items:
      - const: core_clk
      - const: mem_iface_clk

  reg:
    items:
      - description: base address of GPU device

  reg-names:
    items:
      - const: kgsl_3d0_reg_memory

  interrupts:
    items:
      - description: interrupt of GPU device

  interrupt-names:
    items:
      - const: kgsl_3d0_irq

required:
  - compatible
  - reg
  - interrupts

additionalProperties: false

examples:
  - |

    // Example imageon-200:

    #include <dt-bindings/clock/imx5-clock.h>
    #include <dt-bindings/interrupt-controller/irq.h>

    gpu: gpu@30000000 {
        compatible = "amd,imageon-200.0", "amd,imageon";

        reg = <0x30000000 0x20000>;
        reg-names = "kgsl_3d0_reg_memory";

        clock-names = "core_clk", "mem_iface_clk";
        clocks = <&clks IMX5_CLK_GPU3D_GATE>,
                 <&clks IMX5_CLK_GARB_GATE>;

        interrupts = <12>;
        interrupt-names = "kgsl_3d0_irq";
    };
